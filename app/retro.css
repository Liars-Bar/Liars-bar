/* ============================================
   LIAR'S BAR - RETRO 2D ARCADE STYLES
   Inspired by 90s/early 2000s pixel games
   ============================================ */

/* CRT Scanline Overlay */
.crt-overlay {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15) 0px,
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 3px
  );
}

/* CRT Screen Curvature */
.crt-screen {
  position: relative;
  overflow: hidden;
}
.crt-screen::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 12px;
  box-shadow:
    inset 0 0 80px rgba(0, 255, 0, 0.03),
    inset 0 0 200px rgba(0, 0, 0, 0.4);
  pointer-events: none;
  z-index: 100;
}

/* Pixel Border Box */
.pixel-border {
  border: 4px solid;
  border-image: repeating-linear-gradient(
    90deg,
    #39ff14 0px, #39ff14 4px,
    #0a0a0a 4px, #0a0a0a 8px
  ) 4;
  image-rendering: pixelated;
}

.pixel-border-amber {
  border: 4px solid;
  border-image: repeating-linear-gradient(
    90deg,
    #fbbf24 0px, #fbbf24 4px,
    #0a0a0a 4px, #0a0a0a 8px
  ) 4;
}

.pixel-border-cyan {
  border: 4px solid;
  border-image: repeating-linear-gradient(
    90deg,
    #22d3ee 0px, #22d3ee 4px,
    #0a0a0a 4px, #0a0a0a 8px
  ) 4;
}

.pixel-border-red {
  border: 4px solid;
  border-image: repeating-linear-gradient(
    90deg,
    #ef4444 0px, #ef4444 4px,
    #0a0a0a 4px, #0a0a0a 8px
  ) 4;
}

/* Neon Glow Text */
.neon-green {
  color: #39ff14;
  text-shadow:
    0 0 4px #39ff14,
    0 0 8px #39ff14,
    0 0 16px #39ff1480;
}

.neon-cyan {
  color: #22d3ee;
  text-shadow:
    0 0 4px #22d3ee,
    0 0 8px #22d3ee,
    0 0 16px #22d3ee80;
}

.neon-amber {
  color: #fbbf24;
  text-shadow:
    0 0 4px #fbbf24,
    0 0 8px #fbbf24,
    0 0 16px #fbbf2480;
}

.neon-red {
  color: #ef4444;
  text-shadow:
    0 0 4px #ef4444,
    0 0 8px #ef4444,
    0 0 16px #ef444480;
}

.neon-magenta {
  color: #e879f9;
  text-shadow:
    0 0 4px #e879f9,
    0 0 8px #e879f9,
    0 0 16px #e879f980;
}

/* Retro Button Styles */
.retro-btn {
  font-family: 'Press Start 2P', monospace;
  padding: 12px 24px;
  font-size: 12px;
  background: #1a1a2e;
  color: #39ff14;
  border: 3px solid #39ff14;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  transition: all 0.1s;
  image-rendering: pixelated;
  box-shadow:
    4px 4px 0 #0d7a0d,
    0 0 8px #39ff1440;
}
.retro-btn:hover {
  background: #39ff14;
  color: #0a0a0a;
  box-shadow:
    2px 2px 0 #0d7a0d,
    0 0 20px #39ff1480;
  transform: translate(2px, 2px);
}
.retro-btn:active {
  box-shadow: 0 0 8px #39ff1440;
  transform: translate(4px, 4px);
}
.retro-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
  transform: none;
}

.retro-btn-amber {
  color: #fbbf24;
  border-color: #fbbf24;
  box-shadow:
    4px 4px 0 #92400e,
    0 0 8px #fbbf2440;
}
.retro-btn-amber:hover {
  background: #fbbf24;
  color: #0a0a0a;
  box-shadow:
    2px 2px 0 #92400e,
    0 0 20px #fbbf2480;
}

.retro-btn-red {
  color: #ef4444;
  border-color: #ef4444;
  box-shadow:
    4px 4px 0 #7f1d1d,
    0 0 8px #ef444440;
}
.retro-btn-red:hover {
  background: #ef4444;
  color: #0a0a0a;
  box-shadow:
    2px 2px 0 #7f1d1d,
    0 0 20px #ef444480;
}

.retro-btn-cyan {
  color: #22d3ee;
  border-color: #22d3ee;
  box-shadow:
    4px 4px 0 #155e75,
    0 0 8px #22d3ee40;
}
.retro-btn-cyan:hover {
  background: #22d3ee;
  color: #0a0a0a;
  box-shadow:
    2px 2px 0 #155e75,
    0 0 20px #22d3ee80;
}

/* Retro Card Styles */
.retro-card {
  background: #0d1117;
  border: 3px solid #30363d;
  font-family: 'Press Start 2P', monospace;
  image-rendering: pixelated;
  position: relative;
}

.retro-card-face {
  background: #fffbe6;
  border: 3px solid #444;
  width: 56px;
  height: 80px;
  min-width: 56px;
  min-height: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  cursor: pointer;
  transition: transform 0.1s;
  image-rendering: pixelated;
  position: relative;
  box-shadow: 3px 3px 0 #222;
  flex-shrink: 0;
}
.retro-card-face:hover {
  transform: translateY(-4px);
  box-shadow: 3px 7px 0 #222;
}
.retro-card-face.selected {
  transform: translateY(-12px);
  border-color: #fbbf24;
  box-shadow:
    3px 15px 0 #222,
    0 0 12px #fbbf2480;
}

.retro-card-back {
  background: repeating-conic-gradient(
    #1e3a5f 0% 25%, #162d50 0% 50%
  ) 0 0 / 8px 8px;
  border: 3px solid #4a90d9;
  width: 56px;
  height: 80px;
  min-width: 56px;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 3px 3px 0 #222;
  image-rendering: pixelated;
  flex-shrink: 0;
}

/* Retro Table (top-down 2D view) — layered pixel art */
.retro-table-outer {
  position: relative;
  image-rendering: pixelated;
}

/* Floor shadow under the table */
.retro-table-shadow {
  position: absolute;
  inset: -6px -4px -10px -4px;
  border-radius: 48% 48% 46% 46%;
  background: rgba(0, 0, 0, 0.5);
  filter: blur(12px);
  z-index: 0;
}

/* Outer wood rim */
.retro-table-wood {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  border-radius: 48%;
  background:
    repeating-linear-gradient(
      0deg,
      #5c3a1e 0px, #5c3a1e 3px,
      #4a2e16 3px, #4a2e16 6px
    );
  border: 4px solid #3a200e;
  box-shadow:
    inset 0 2px 0 #7a5230,
    inset 0 -2px 0 #2a1a0e,
    6px 6px 0 #1a0e06,
    0 0 40px rgba(92, 58, 30, 0.25);
}

/* Inner wood bevel */
.retro-table-bevel {
  position: absolute;
  inset: 6px;
  border-radius: 48%;
  background: linear-gradient(180deg, #6b4226 0%, #4a2e16 40%, #3a200e 100%);
  border: 3px solid #2a1a0e;
  box-shadow:
    inset 0 2px 0 #8b6240,
    inset 0 -2px 0 #1a0e06;
}

/* Brass/gold trim ring */
.retro-table-trim {
  position: absolute;
  inset: 5px;
  border-radius: 48%;
  border: 2px solid #b8860b;
  box-shadow:
    0 0 6px #b8860b40,
    inset 0 0 6px #b8860b20;
  pointer-events: none;
}

/* Green felt surface */
.retro-table-felt {
  position: absolute;
  inset: 12px;
  border-radius: 46%;
  background: #1a5c2e;
  border: 3px solid #0f3d1c;
  box-shadow:
    inset 0 0 30px rgba(0, 0, 0, 0.5),
    inset 0 0 60px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

/* Felt crosshatch texture */
.retro-table-felt-texture {
  position: absolute;
  inset: 0;
  border-radius: 46%;
  opacity: 0.12;
  background:
    repeating-linear-gradient(
      45deg,
      transparent 0px, transparent 4px,
      rgba(0, 80, 0, 0.8) 4px, rgba(0, 80, 0, 0.8) 5px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent 0px, transparent 4px,
      rgba(0, 80, 0, 0.8) 4px, rgba(0, 80, 0, 0.8) 5px
    );
  pointer-events: none;
}

/* Inner dashed betting line */
.retro-table-betting-line {
  position: absolute;
  inset: 20px;
  border-radius: 44%;
  border: 2px dashed #2d8b4a;
  opacity: 0.35;
  pointer-events: none;
}

/* Center diamond emblem */
.retro-table-emblem {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}
.retro-table-emblem-diamond {
  width: 60px;
  height: 60px;
  transform: rotate(45deg);
  border: 2px solid #2d8b4a;
  opacity: 0.2;
  position: relative;
}
.retro-table-emblem-diamond::before {
  content: "";
  position: absolute;
  inset: 6px;
  border: 1px solid #2d8b4a;
}

/* Corner chip markers */
.retro-table-chip {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  border: 2px solid #b8860b;
  background: #2a1a0e;
  box-shadow: 0 0 4px #b8860b40;
}

/* Warm overhead lamp glow on table */
.retro-table-glow {
  position: absolute;
  top: 20%;
  left: 30%;
  width: 40%;
  height: 30%;
  border-radius: 50%;
  background: radial-gradient(ellipse, rgba(255, 200, 80, 0.06) 0%, transparent 70%);
  pointer-events: none;
}

/* Felt edge vignette */
.retro-table-vignette {
  position: absolute;
  inset: 0;
  border-radius: 46%;
  box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.45);
  pointer-events: none;
}

/* Player seat marker */
.retro-seat {
  position: absolute;
  z-index: 20;
  display: flex;
  flex-direction: column;
  align-items: center;
  transform: translate(-50%, -50%);
}
.retro-seat-ring {
  position: absolute;
  inset: -4px;
  border-radius: 4px;
  border: 2px solid transparent;
  pointer-events: none;
  transition: border-color 0.3s;
}
.retro-seat-active .retro-seat-ring {
  border-color: #fbbf24;
  box-shadow: 0 0 10px #fbbf2440;
  animation: blink-anim 1.2s step-end infinite;
}

/* Blinking Cursor */
.blink {
  animation: blink-anim 1s step-end infinite;
}
@keyframes blink-anim {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* Typing Effect */
.typing-dots::after {
  content: "...";
  animation: typing-dots-anim 1.5s steps(3) infinite;
}
@keyframes typing-dots-anim {
  0% { content: ""; }
  33% { content: "."; }
  66% { content: ".."; }
  100% { content: "..."; }
}

/* Pixel Fade In */
@keyframes pixel-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.8);
    filter: brightness(2);
  }
  50% {
    opacity: 1;
    filter: brightness(1.5);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1);
  }
}
.pixel-fade-in {
  animation: pixel-fade-in 0.3s ease-out;
}

/* Retro Loading Bar */
.retro-loading-bar {
  width: 200px;
  height: 20px;
  border: 3px solid #39ff14;
  background: #0a0a0a;
  position: relative;
  overflow: hidden;
}
.retro-loading-bar::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0;
  background: repeating-linear-gradient(
    90deg,
    #39ff14 0px, #39ff14 8px,
    transparent 8px, transparent 12px
  );
  animation: loading-fill 2s steps(15) infinite;
}
@keyframes loading-fill {
  0% { width: 0; }
  100% { width: 100%; }
}

/* Screen Flicker */
@keyframes screen-flicker {
  0% { opacity: 1; }
  3% { opacity: 0.95; }
  6% { opacity: 1; }
  7.5% { opacity: 0.9; }
  9% { opacity: 1; }
  100% { opacity: 1; }
}
.screen-flicker {
  animation: screen-flicker 8s infinite;
}

/* Star Twinkle for background */
@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* Retro Input */
.retro-input {
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  background: #0a0a0a;
  color: #39ff14;
  border: 3px solid #39ff14;
  padding: 10px 14px;
  outline: none;
  caret-color: #39ff14;
}
.retro-input::placeholder {
  color: #39ff1450;
}
.retro-input:focus {
  box-shadow: 0 0 12px #39ff1440;
}

/* Character Pixel Avatar Frame */
.pixel-avatar {
  border: 3px solid;
  image-rendering: pixelated;
  box-shadow: 3px 3px 0 #111;
}

/* Retro Scrollbar */
.retro-scroll::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.retro-scroll::-webkit-scrollbar-track {
  background: #0a0a0a;
}
.retro-scroll::-webkit-scrollbar-thumb {
  background: #39ff1480;
  border: 1px solid #39ff1440;
}
.retro-scroll::-webkit-scrollbar-thumb:hover {
  background: #39ff14;
}
.retro-scroll::-webkit-scrollbar-corner {
  background: #0a0a0a;
}
.retro-scroll {
  scrollbar-width: thin;
  scrollbar-color: #39ff1480 #0a0a0a;
}

/* Grid Background */
.grid-bg {
  background-image:
    linear-gradient(rgba(57, 255, 20, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(57, 255, 20, 0.03) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Marquee for announcements */
@keyframes marquee {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}
.marquee {
  animation: marquee 15s linear infinite;
}

/* ── Splash Screen ─────────────────────────────────────── */
@keyframes splash-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.95);
    filter: brightness(3) contrast(0.5);
  }
  40% {
    opacity: 1;
    filter: brightness(1.8) contrast(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1) contrast(1);
  }
}
.splash-screen-in {
  animation: splash-fade-in 0.8s ease-out both;
}

/* ── UI/UX Polish ──────────────────────────────────────── */

/* Turn indicator pulse */
@keyframes turn-pulse {
  0%, 100% {
    box-shadow: 0 0 8px #fbbf2440;
    border-color: #fbbf24;
  }
  50% {
    box-shadow: 0 0 24px #fbbf2480, 0 0 48px #fbbf2430;
    border-color: #fde68a;
  }
}
.turn-pulse {
  animation: turn-pulse 1.5s ease-in-out infinite;
}

/* Glow hover for interactive cards */
@keyframes card-glow {
  0%, 100% { box-shadow: 3px 3px 0 #222; }
  50% { box-shadow: 3px 3px 0 #222, 0 0 8px #fbbf2440; }
}

/* Seat hover */
.retro-seat:hover .retro-seat-ring {
  border-color: #39ff1430;
}

/* Status dot pulse */
@keyframes dot-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.3); }
}
.dot-pulse {
  animation: dot-pulse 2s ease-in-out infinite;
}

/* Smooth panel transition */
.panel-slide-in {
  animation: panel-slide 0.3s ease-out both;
}
@keyframes panel-slide {
  0% { opacity: 0; transform: translateY(8px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* Button press feedback */
.retro-btn:active:not(:disabled) {
  filter: brightness(1.2);
}

/* Better focus states for accessibility */
.retro-btn:focus-visible {
  outline: 2px solid #39ff14;
  outline-offset: 3px;
}
.retro-input:focus-visible {
  outline: 2px solid #39ff14;
  outline-offset: 2px;
}

/* Card selected glow animation */
@keyframes selected-glow {
  0%, 100% { box-shadow: 0 0 8px #fbbf2460, 3px 10px 0 #222; }
  50% { box-shadow: 0 0 16px #fbbf2480, 0 0 30px #fbbf2430, 3px 10px 0 #222; }
}
.retro-card-face.selected {
  animation: selected-glow 1.5s ease-in-out infinite;
}

/* HUD bar glass effect */
.hud-bar {
  background: #0a0a0aEE;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Player tag badges */
.player-tag {
  font-size: 7px;
  padding: 1px 6px;
  letter-spacing: 1px;
  font-weight: bold;
}

/* Lobby player card hover */
.lobby-player-card {
  transition: transform 0.15s, box-shadow 0.15s;
}
.lobby-player-card:hover {
  transform: translateY(-3px);
}

/* ════════════════════════════════════════════════════════════════
   WEBSOCKET EVENT ANIMATIONS
   ════════════════════════════════════════════════════════════════ */

/* ── Card Placed Flash ─────────────────────────────────────── */
@keyframes card-placed-flash {
  0% {
    opacity: 0;
    transform: scale(0.5) translateY(20px);
  }
  15% {
    opacity: 1;
    transform: scale(1.1) translateY(0);
  }
  60% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0.9) translateY(-10px);
  }
}
.anim-card-placed-flash {
  animation: card-placed-flash 1.5s ease-out forwards;
  padding: 8px 20px;
  border: 2px solid #22d3ee;
  background: #0a0a0aDD;
  box-shadow: 0 0 20px #22d3ee60, 0 0 40px #22d3ee30;
}

/* ── Liar Called Overlay ───────────────────────────────────── */
@keyframes liar-shake {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  10% { transform: translateX(-8px) rotate(-2deg); }
  20% { transform: translateX(8px) rotate(2deg); }
  30% { transform: translateX(-6px) rotate(-1deg); }
  40% { transform: translateX(6px) rotate(1deg); }
  50% { transform: translateX(-4px); }
  60% { transform: translateX(4px); }
  70% { transform: translateX(-2px); }
  80% { transform: translateX(0); }
}
@keyframes liar-flash {
  0% { opacity: 0; }
  10% { opacity: 1; }
  20% { opacity: 0.3; }
  30% { opacity: 1; }
  40% { opacity: 0.5; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}
.anim-liar-overlay {
  animation: liar-shake 0.6s ease-out, liar-flash 3s ease-out forwards;
  padding: 16px 40px;
  border: 4px solid #ef4444;
  background: #0a0a0aEE;
  box-shadow:
    0 0 30px #ef444480,
    0 0 60px #ef444440,
    inset 0 0 20px #ef444420;
}

/* Liar ring animation around player avatar */
@keyframes liar-ring-pulse {
  0% {
    transform: scale(1);
    opacity: 1;
    border-color: #ef4444;
    box-shadow: 0 0 10px #ef4444;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.5;
    box-shadow: 0 0 25px #ef4444;
  }
  100% {
    transform: scale(1.6);
    opacity: 0;
    box-shadow: 0 0 0 #ef4444;
  }
}
.anim-liar-ring {
  position: absolute;
  inset: -6px;
  border: 3px solid #ef4444;
  border-radius: 4px;
  animation: liar-ring-pulse 1s ease-out infinite;
  pointer-events: none;
  z-index: 10;
}

/* ── Empty Bullet / Roulette Animation ─────────────────────── */
@keyframes roulette-spin {
  0% {
    transform: rotate(0deg) scale(0.5);
    opacity: 0;
  }
  20% {
    transform: rotate(180deg) scale(1.1);
    opacity: 1;
  }
  40% {
    transform: rotate(360deg) scale(1);
    opacity: 1;
  }
  100% {
    transform: rotate(360deg) scale(0.8);
    opacity: 0;
  }
}
.anim-roulette-overlay {
  animation: roulette-spin 2.5s ease-out forwards;
  padding: 16px 32px;
  border: 3px solid #fbbf24;
  background: #0a0a0aEE;
  box-shadow:
    0 0 25px #fbbf2460,
    0 0 50px #fbbf2430;
}

/* Bullet flash around player avatar */
@keyframes bullet-flash {
  0% { opacity: 0; box-shadow: 0 0 0 #fbbf24; }
  20% { opacity: 1; box-shadow: 0 0 30px #fbbf24; }
  40% { opacity: 0.4; box-shadow: 0 0 15px #fbbf24; }
  60% { opacity: 1; box-shadow: 0 0 25px #fbbf24; }
  100% { opacity: 0; box-shadow: 0 0 0 #fbbf24; }
}
.anim-bullet-flash {
  position: absolute;
  inset: -4px;
  border: 2px solid #fbbf24;
  border-radius: 50%;
  animation: bullet-flash 2s ease-out forwards;
  pointer-events: none;
  z-index: 10;
}

/* ── Player Eliminated Animation ───────────────────────────── */
@keyframes eliminated-shake-out {
  0% { transform: translateX(0); opacity: 1; }
  10% { transform: translateX(-10px); }
  20% { transform: translateX(10px); }
  30% { transform: translateX(-8px); }
  40% { transform: translateX(8px); }
  50% { transform: translateX(-4px); opacity: 0.7; }
  60% { transform: translateX(4px); }
  70% { transform: translateX(-2px); opacity: 0.4; }
  100% { transform: translateX(0); opacity: 0; }
}
.anim-eliminated-overlay {
  animation: eliminated-shake-out 2s ease-out forwards;
  padding: 16px 32px;
  border: 4px solid #ef4444;
  background: #1a0000EE;
  box-shadow:
    0 0 30px #ef444480,
    0 0 60px #ef444440;
}

/* Red X over eliminated player */
@keyframes elim-x-draw {
  0% { clip-path: inset(0 100% 100% 0); opacity: 0; }
  50% { clip-path: inset(0 0 0 0); opacity: 1; }
  100% { clip-path: inset(0 0 0 0); opacity: 0.6; }
}
.anim-eliminated-x {
  position: absolute;
  inset: 0;
  z-index: 10;
  pointer-events: none;
  animation: elim-x-draw 1.5s ease-out forwards;
}
.anim-eliminated-x::before,
.anim-eliminated-x::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 140%;
  height: 3px;
  background: #ef4444;
  box-shadow: 0 0 8px #ef4444;
}
.anim-eliminated-x::before {
  transform: translate(-50%, -50%) rotate(45deg);
}
.anim-eliminated-x::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

/* ── Round Start Animation ─────────────────────────────────── */
@keyframes round-start-zoom {
  0% {
    opacity: 0;
    transform: scale(3);
    filter: blur(8px);
  }
  30% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
  70% {
    opacity: 1;
    transform: scale(1.05);
  }
  100% {
    opacity: 0;
    transform: scale(0.9);
  }
}
.anim-round-start {
  animation: round-start-zoom 2s ease-out forwards;
  padding: 16px 40px;
  border: 3px solid #39ff14;
  background: #0a0a0aEE;
  box-shadow:
    0 0 30px #39ff1460,
    0 0 60px #39ff1430;
}

/* ── Eliminated seat styling ───────────────────────────────── */
.retro-seat-eliminated .retro-seat-ring {
  border-color: #ef444440 !important;
}

/* ── Connection status bar animation ───────────────────────── */
@keyframes ws-reconnect-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}
.ws-reconnecting {
  animation: ws-reconnect-pulse 1.5s ease-in-out infinite;
}

/* ════════════════════════════════════════════════════════════════
   CARD FLY TO CENTER ANIMATION
   Cards fly from a player's seat position to the table center
   ════════════════════════════════════════════════════════════════ */

/* The card element starts at the player seat (via inline top/left).
   We animate it to the center of the container (50%, 50%).
   Since the element already has translate(-50%,-50%), we use
   a fixed endpoint of top:50% left:50% via CSS custom properties
   won't work here, so we animate transform instead. */
@keyframes card-fly-to-center {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.6);
  }
  15% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.1);
  }
  /* Move to center — we use a fixed point via top/left override */
  100% {
    opacity: 0.6;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.7) rotate(5deg);
  }
}

/* Player name label fades up and out */
@keyframes card-fly-label {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -70%) scale(1);
  }
  70% {
    opacity: 1;
    transform: translate(-50%, -80%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -100%) scale(0.8);
  }
}

/* Impact flash when cards reach the center of the table */
@keyframes card-land-flash {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.3);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
  60% {
    opacity: 0.6;
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.5);
  }
}

/* ── Revolver Cylinder ──────────────────────────────────────── */
@keyframes cylinder-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.revolver-cylinder {
  position: relative;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: radial-gradient(circle, #1a1a1a 30%, #0d0d0d 70%);
  border: 2px solid #333;
  box-shadow: inset 0 0 8px #000, 0 0 6px #00000080;
  flex-shrink: 0;
}

.revolver-cylinder-inner {
  position: absolute;
  inset: 0;
}

.revolver-chamber {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform-origin: 0 0;
}

.revolver-chamber-live {
  background: radial-gradient(circle at 40% 40%, #fcd34d, #b45309);
  border: 1px solid #f59e0b;
  box-shadow: 0 0 5px #fbbf24aa, inset 0 0 2px #fde68a;
}

.revolver-chamber-empty {
  background: radial-gradient(circle, #222 40%, #111 70%);
  border: 1px solid #333;
  box-shadow: inset 0 0 3px #000;
}

.revolver-hub {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: radial-gradient(circle at 40% 40%, #555, #222);
  border: 1px solid #444;
  z-index: 2;
}

/* ════════════════════════════════════════════════════════════════
   RESPONSIVE / MOBILE STYLES
   ════════════════════════════════════════════════════════════════ */

/* ── Mobile: cards smaller ─────────────────────────────────────── */
@media (max-width: 639px) {
  .retro-card-face {
    width: 44px;
    height: 64px;
    min-width: 44px;
    min-height: 64px;
    font-size: 8px;
  }
  .retro-card-back {
    width: 44px;
    height: 64px;
    min-width: 44px;
    min-height: 64px;
  }
  .retro-btn {
    padding: 8px 14px;
    font-size: 9px;
  }
  .retro-table-emblem-diamond {
    width: 36px;
    height: 36px;
  }

  /* Smaller animation overlays on mobile */
  .anim-liar-overlay {
    padding: 10px 20px;
  }
  .anim-roulette-overlay {
    padding: 10px 20px;
  }
  .anim-eliminated-overlay {
    padding: 10px 20px;
  }
  .anim-round-start {
    padding: 10px 24px;
  }
}

/* ── Very small screens (< 480px) ──────────────────────────────── */
@media (max-width: 479px) {
  .retro-card-face {
    width: 38px;
    height: 56px;
    min-width: 38px;
    min-height: 56px;
    font-size: 7px;
  }
  .retro-card-back {
    width: 38px;
    height: 56px;
    min-width: 38px;
    min-height: 56px;
  }
  .retro-btn {
    padding: 6px 10px;
    font-size: 8px;
  }
  .retro-loading-bar {
    width: 150px;
    height: 16px;
  }
}

/* ── Floating player card responsive ───────────────────────────── */
@media (max-width: 639px) {
  .floating-player-card {
    left: 4px !important;
    bottom: 2% !important;
    padding: 4px !important;
    max-width: 120px;
  }
  .floating-player-card .revolver-cylinder {
    width: 32px;
    height: 32px;
  }
  .floating-player-card .revolver-chamber {
    width: 7px;
    height: 7px;
  }
  .floating-player-card .revolver-hub {
    width: 7px;
    height: 7px;
  }
}

/* ── Sidebar responsive ────────────────────────────────────────── */
@media (max-width: 767px) {
  .game-sidebar {
    width: 120px !important;
    min-width: 120px;
  }
}
@media (max-width: 479px) {
  .game-sidebar {
    width: 90px !important;
    min-width: 90px;
  }
}
